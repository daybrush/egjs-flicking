{"version":3,"file":"all.js","sources":["../../../src/plugin/Plugin.js","../../../src/plugin/effects/OpacityEffect.js","../../../src/plugin/effects/ParallaxEffect.js"],"sourcesContent":["/**\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Flicking from \"@egjs/flicking\";\n\n// is to through pass Flicking's utils & constants to plugins\nconst utils = Flicking.utils;\nconst consts = utils.extend(utils.extend({}, Flicking.consts), {\n\tDIRECTION_NONE: Flicking.DIRECTION_NONE,\n\tDIRECTION_LEFT: Flicking.DIRECTION_LEFT,\n\tDIRECTION_RIGHT: Flicking.DIRECTION_RIGHT,\n\tDIRECTION_UP: Flicking.DIRECTION_UP,\n\tDIRECTION_DOWN: Flicking.DIRECTION_DOWN,\n\tDIRECTION_HORIZONTAL: Flicking.DIRECTION_HORIZONTAL,\n\tDIRECTION_VERTICAL: Flicking.DIRECTION_VERTICAL,\n\tDIRECTION_ALL: Flicking.DIRECTION_ALL\n});\n\n/**\n * Base class to generate flicking plugin\n * Lifecycle: componentWillMount --> componentMount --> componentDidMount --> componentWillUnmount\n * @ko Flicking 플러그인을 생성하기 위한 기본 클래스\n * @alias eg.Flicking.plugin\n * @private\n */\nexport default class Plugin {\n\t/**\n\t * Constructor\n\t * @param {Object} options Option object <ko>옵션 객체</ko>\n\t */\n\tconstructor(options = {}) {\n\t\tthis.options = options;\n\t}\n\n\t/**\n\t * Before mounting. It's init point from Flicking instance\n\t * @param {Flicking} instance Flicking instance\n\t * @returns {Plugin}\n\t */\n\t$componentWillMount(instance) {\n\t\tthis.$$ = instance;\n\n\t\t// get hint and layer-hack setting\n\t\tthis.useWillChange = instance.$container.style.willChange === \"transform\";\n\t\tthis.useLayerHack = this.getInstanceConf().useLayerHack;\n\n\t\tthis.bindEvents();\n\t\tthis.$componentMount();\n\t\tthis.$componentDidMount();\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * After mounting\n\t * @return {Plugin}\n\t */\n\t$componentDidMount() {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Before the destroy\n\t */\n\t$componentWillUnmount() {\n\t\tObject.keys(this).forEach(v => {\n\t\t\tthis[v] = null;\n\t\t});\n\t}\n\n\tgetInstanceConf() {\n\t\treturn this.$$._conf;\n\t}\n\n\t/**\n\t * Bind flicking custom events\n\t */\n\tbindEvents() {\n\t\tthis.$$.on({\n\t\t\tflick: this._onFlick.bind(this),\n\t\t\tflickEnd: this._onFlickEnd.bind(this),\n\t\t\trestore: this._onRestore.bind(this)\n\t\t});\n\t}\n\n\t/**\n\t * 'flick' event handler\n\t * @param {Object} e\n\t * @private\n\t */\n\t_onFlick(e) {\n\t\tconst pos = e.pos;\n\t\tconst distance = e.distance || pos - this.$$._conf.panel.size;\n\n\t\tthis.onFlick && this.onFlick(e, distance);\n\t}\n\n\t/**\n\t * 'flickEnd' event handler\n\t * @param {Object} e\n\t * @private\n\t */\n\t_onFlickEnd(e) {\n\t\tconst type = (e.direction & consts.DIRECTION_LEFT && \"next\") ||\n\t\t\t(e.direction & consts.DIRECTION_RIGHT && \"prev\") || \"\";\n\n\t\ttype && this.arrange && this.arrange(type);\n\t\tthis.onFlickEnd && this.onFlickEnd(e);\n\t}\n\n\t/**\n\t * 'restore' event handler\n\t * @param {Object} e\n\t * @private\n\t */\n\t_onRestore(e) {\n\t\tthis.onRestore && this.onRestore(e);\n\t}\n\n\t/**\n\t * Constant to expose Flicking's utility\n\t * @ko Flicking 유틸리티\n\t * @name utils\n\t * @memberof Plugin\n\t * @static\n\t * @constant\n\t * @type {Object}\n\t * @private\n\t */\n\tstatic utils = utils;\n\n\t/**\n\t * Constant to expose Flicking's constant value\n\t * @ko Flicking 상수 값\n\t * @name utils\n\t * @memberof Plugin\n\t * @static\n\t * @constant\n\t * @type {Object}\n\t * @private\n\t */\n\tstatic consts = consts;\n\n\t/**\n\t * Version info string\n\t * @ko 버전정보 문자열\n\t * @name VERSION\n\t * @memberof Plugin\n\t * @static\n\t * @type {String}\n\t * @example\n\t * eg.Flicking.plugin.OpacityEffect.VERSION;  // ex) 2.2.0\n\t */\n\tstatic VERSION = \"#__VERSION__#\";\n}\n","/**\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Plugin from \"../Plugin\";\n\n/**\n * A plugin to add opacity effect attached with flicking interaction.\n * - Should be targeted only one element(or a wrapper element having child nodes) per panel.\n * @ko 플리킹 인터렉션에 따른 투명도 조절 효과 플러그인.\n * - 각 패널당 한 개의 요소(또는 자식노드를 포함하는 한 개의 래퍼요소)만 지정되어야 한다.\n * @alias eg.Flicking.plugin.OpacityEffect\n * @memberof eg.Flicking.plugin\n * @see eg.Flicking#plugin\n * @see eg.Flicking#plugins\n * @example\n * ```html\n * <div id=\"flick\">\n * \t<div><p>panel 0 <span class=\"text\">abc</span></p></div>\n * \t<div><p>panel 1 <span class=\"text\">abc</span></p></div>\n * \t<div><p>panel 2 <span class=\"text\">abc</span></p></div>\n * </div>\n * ```\n * ```js\n * // as namespace usage\n * new eg.Flicking(\"#some\")\n *  .plugin([\n *      // Apply opacity effect to '<span>' selector matched elements\n *      new eg.Flicking.plugin.OpacityEffect(\"span\")\n *  ]);\n *\n * // as ESM import usage\n * import Flicking from \"@egjs/flicking\";\n * import {OpacityEffect} from \"@egjs/flicking-plugins\";\n *\n * new Flicking(\"#some\")\n *  .plugin([\n *      new OpacityEffect(\"span\")\n *  ]);\n * ```\n */\nexport default class OpacityEffect extends Plugin {\n\t/**\n\t * Constructor\n\t * @param {String} selector Target element selector string <ko>대상 요소 셀렉터 문자열</ko>\n\t */\n\tconstructor(selector) {\n\t\tsuper({selector});\n\t}\n\n\t$componentMount() {\n\t\tthis.details = Plugin.utils.toArray(\n\t\t\tthis.$$.$wrapper.querySelectorAll(this.options.selector)\n\t\t);\n\n\t\tthis._build();\n\t\tthis.resize();\n\n\t\treturn this;\n\t}\n\n\t_build() {\n\t\tthis.details = [this.details.pop()].concat(this.details);\n\t}\n\n\t_setSelected(index, setClass) {\n\t\tconst utils = Plugin.utils;\n\n\t\tutils.classList(utils.css(this.details[index], {opacity: \"\"}), \"selected\", setClass);\n\t}\n\n\tresize() {\n\t\tthis.size = this.getInstanceConf().panel.size;\n\t\tthis.onRestore(\"resize\");\n\t}\n\n\tarrange(type) {\n\t\tif (type !== \"resize\") {\n\t\t\tthis.details = (type === \"next\") ?\n\t\t\t\tthis.details.concat(this.details.shift()) :\n\t\t\t\t[this.details.pop()].concat(this.details);\n\t\t}\n\n\t\tthis._setSelected(1, true);\n\n\t\t/next|resize/.test(type) && this._setSelected(0, false);\n\t\t/prev|resize/.test(type) && this._setSelected(2, false);\n\t}\n\n\tonFlick(e, distance) {\n\t\tconst pos = e.pos;\n\t\tconst per = (pos % this.size) / this.size;\n\t\tconst utils = Plugin.utils;\n\n\t\tif (Math.abs(distance) >= this.size) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst opacity = (distance > 0 && per <= 0.5 && 1 - (2 * per)) ||\n\t\t\t(distance < 0 && per > 0.5 && 2 * (per - 0.5));\n\n\t\topacity !== undefined && utils.css(this.details[1], {opacity});\n\t}\n\n\tonRestore() {\n\t\tthis.arrange(\"resize\");\n\t}\n\n\tget() {\n\t\treturn this.details[1];\n\t}\n}\n","/**\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Plugin from \"../Plugin\";\n\n/**\n * A plugin to add horizontal parallax effect attached with flicking interaction.\n * - Should be targeted only one element per panel.\n * - It can't be used with `previewPadding` option.\n * @ko 플리킹 인터렉션에 따른 가로유형 패럴렉스 효과 플러그인.\n * - 각 패널당 한 개의 요소만 지정되어야 한다.\n * - `previewPadding` 옵션과 같이 사용될 수 없다.\n * @alias eg.Flicking.plugin.ParallaxEffect\n * @memberof eg.Flicking.plugin\n * @see eg.Flicking#plugin\n * @see eg.Flicking#plugins\n * @example\n * ```html\n * <div id=\"flick\">\n * \t<div><p style=\"background-image:url(a.png)\">panel 0</p></div>\n * \t<div><p style=\"background-image:url(b.png)\">panel 1</p></div>\n * \t<div><p style=\"background-image:url(c.png)\">panel 2</p></div>\n * </div>\n * ```\n * ```js\n * // as namespace usage\n * new eg.Flicking(\"#some\")\n *  .plugin([\n *      // Apply parallax effect to '<p>' selector matched elements\n *      new eg.Flicking.plugin.ParallaxEffect(\"p\")\n *  ]);\n *\n * // as ESM import usage\n * import Flicking from \"@egjs/flicking\";\n * import {ParallaxEffect} from \"@egjs/flicking-plugins\";\n *\n * new Flicking(\"#some\")\n *  .plugin([\n *      new ParallaxEffect(\"p\")\n *  ]);\n * ```\n */\nexport default class ParallaxEffect extends Plugin {\n\t/**\n\t * Constructor\n\t * @param {String} selector Target selector string within panel element<ko>패널 내에 위치한 대상 요소 셀렉터 문자열</ko>\n\t */\n\tconstructor(selector) {\n\t\tsuper({selector});\n\t}\n\n\t$componentMount() {\n\t\t// select target elements\n\t\tthis.imgs = this.$$.getAllElements().map(\n\t\t\tv => v.querySelector(this.options.selector)\n\t\t);\n\n\t\tthis.resize();\n\t\tthis._build();\n\n\t\treturn this;\n\t}\n\n\t_build() {\n\t\tconst utils = Plugin.utils;\n\t\tconst currIndex = this._getCurrIndex();\n\n\t\t// set panel element's style\n\t\tutils.css(this.getInstanceConf().panel.$list, {overflow: \"hidden\"});\n\n\t\t// set targeted element's style\n\t\tthis.imgs.forEach((v, i) => {\n\t\t\tlet x = -50;\n\n\t\t\tif (currIndex > i) {\n\t\t\t\tx = 50;\n\t\t\t} else if (currIndex === i) {\n\t\t\t\tx = 0;\n\t\t\t}\n\n\t\t\tthis.useWillChange && utils.css(v, {willChange: \"transform\"});\n\t\t\tthis._setTranslate(v, `${x}%`, 0);\n\t\t});\n\t}\n\n\t_setTranslate(el, x, y) {\n\t\tel && Plugin.utils.css(el, {\n\t\t\ttransform:\n\t\t\t\tPlugin.utils.translate.apply(null,\n\t\t\t\t\tthis.$$._getDataByDirection([x, y]).concat(this.useLayerHack)\n\t\t\t\t)\n\t\t});\n\n\t\treturn el;\n\t}\n\n\n\t_getCurrIndex() {\n\t\treturn this.getInstanceConf().panel.currIndex;\n\t}\n\n\t_getPanel() {\n\t\tconst index = this._getCurrIndex();\n\n\t\treturn {\n\t\t\tprev: this.imgs[index - 1],\n\t\t\tcurr: this.imgs[index],\n\t\t\tnext: this.imgs[index + 1]\n\t\t};\n\t}\n\n\tarrange(type) {\n\t\tif (this.$$.options.circular && type !== \"resize\") {\n\t\t\tthis.imgs = (type === \"next\") ?\n\t\t\t\tthis.imgs.concat(this.imgs.shift()) :\n\t\t\t\t[this.imgs.pop()].concat(this.imgs);\n\t\t}\n\n\t\tconst panel = this._getPanel();\n\n\t\t// update panel's translate\n\t\tthis._setTranslate(panel.curr, 0, 0);\n\n\t\t/next|resize/.test(type) && this._setTranslate(panel.next, \"50%\", 0);\n\t\t/prev|resize/.test(type) && this._setTranslate(panel.prev, \"-50%\", 0);\n\t}\n\n\tonFlick(e, distance) {\n\t\tconst pos = e.pos;\n\t\tconst maxRange = this.size;\n\t\tconst delta = (pos % maxRange) / 2;\n\t\tconst siblingDelta = -(maxRange / 2 - delta);\n\n\t\tif (Math.abs(distance) >= maxRange) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst panel = this._getPanel();\n\t\tconst update = [];\n\n\t\tif (distance > 0 && panel.next) {\n\t\t\tupdate.push({el: panel.curr, x: delta});\n\t\t\tupdate.push({el: panel.next, x: siblingDelta});\n\t\t} else if (distance < 0 && panel.prev) {\n\t\t\tupdate.push({el: panel.curr, x: siblingDelta});\n\t\t\tupdate.push({el: panel.prev, x: delta});\n\t\t}\n\n\t\tupdate.forEach(v => this._setTranslate(v.el, `${v.x}px`, 0));\n\t}\n\n\tonRestore() {\n\t\tthis.arrange(\"resize\");\n\t}\n\n\tresize() {\n\t\tthis.size = this.getInstanceConf().panel.size;\n\t\tthis.onRestore(\"resize\");\n\t}\n\n\tget() {\n\t\treturn this.imgs[this._getCurrIndex()];\n\t}\n}\n"],"names":["utils","Flicking","consts","extend","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","Plugin","options","$componentWillMount","instance","$$","useWillChange","$container","style","willChange","useLayerHack","getInstanceConf","bindEvents","$componentMount","$componentDidMount","$componentWillUnmount","Object","keys","forEach","v","_conf","on","flick","_onFlick","bind","flickEnd","_onFlickEnd","restore","_onRestore","e","pos","distance","panel","size","onFlick","type","direction","arrange","onFlickEnd","onRestore","VERSION","OpacityEffect","selector","details","toArray","$wrapper","querySelectorAll","_build","resize","pop","concat","_setSelected","index","setClass","classList","css","opacity","shift","test","per","Math","abs","undefined","get","ParallaxEffect","imgs","getAllElements","map","querySelector","currIndex","_getCurrIndex","$list","overflow","i","x","_setTranslate","el","y","transform","translate","apply","_getDataByDirection","_getPanel","prev","curr","next","circular","maxRange","delta","siblingDelta","update","push"],"mappings":"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"}